<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TC Radios - Working Version</title>
    <style>
        :root {
            --primary: #1DB954;
            --background: #121212;
            --surface: #181818;
            --text-primary: #FFFFFF;
            --text-secondary: #B3B3B3;
        }

        body {
            margin: 0;
            padding: 0;
            background: var(--background);
            color: var(--text-primary);
            font-family: Arial, sans-serif;
        }

        .header {
            padding: 1rem;
            background: var(--surface);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .station-list {
            padding: 1rem;
            height: calc(100vh - 160px);
            overflow-y: auto;
        }

        .station-item {
            padding: 1rem;
            margin-bottom: 0.5rem;
            background: var(--surface);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .player-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        button {
            padding: 0.5rem 1rem;
            background: var(--primary);
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>TC RADIOS</h1>
        <button id="themeToggle">ðŸŒ™</button>
    </div>

    <div class="station-list" id="stationList"></div>

    <div class="player-container">
        <div id="playerInfo">
            <div id="playerTitle">Select a station</div>
            <div id="playerMetadata"></div>
        </div>
        <button id="playPauseBtn">Play</button>
    </div>

    <script>
        // Sample radio stations
        const stations = [
            {
                name: "Amen FM",
                url: "https://ice7.securenetsystems.net/AMENFM",
                logo: "https://i.ibb.co/JWW8zWHy/download-1.jpg"
            },
            {
                name: "Arulvakku FM",
                url: "https://stream.arulvakku.com/radio/8000/radio.mp3",
                logo: "https://i.ibb.co/KYdcq0T/arulvakku-fm.jpg"
            }
        ];

        let currentAudio = null;
        let isPlaying = false;

        // Theme handling
        document.getElementById('themeToggle').addEventListener('click', () => {
            document.body.classList.toggle('light-theme');
            localStorage.setItem('theme', 
                document.body.classList.contains('light-theme') ? 'light' : 'dark');
        });

        // Initialize stations
        function initStations() {
            const stationList = document.getElementById('stationList');
            stationList.innerHTML = stations.map(station => `
                <div class="station-item" data-url="${station.url}">
                    <img src="${station.logo}" width="40" height="40" style="margin-right: 1rem;">
                    <div>${station.name}</div>
                </div>
            `).join('');

            document.querySelectorAll('.station-item').forEach(item => {
                item.addEventListener('click', () => playStation(item.dataset.url));
            });
        }

        // Audio control
        function playStation(url) {
            if (currentAudio) {
                currentAudio.pause();
            }

            currentAudio = new Audio(url);
            currentAudio.play();
            isPlaying = true;
            updatePlayerUI(url);
        }

        // Player controls
        document.getElementById('playPauseBtn').addEventListener('click', () => {
            if (!currentAudio) return;
            
            if (isPlaying) {
                currentAudio.pause();
            } else {
                currentAudio.play();
            }
            isPlaying = !isPlaying;
            updatePlayerUI();
        });

        function updatePlayerUI(url) {
            const station = stations.find(s => s.url === url);
            document.getElementById('playerTitle').textContent = 
                station ? station.name : 'Select a station';
            document.getElementById('playPauseBtn').textContent = 
                isPlaying ? 'Pause' : 'Play';
        }

        // Initialize app
        function initializeApp() {
            // Load saved theme
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-theme');
            }
            
            initStations();
        }

        // Start the app
        initializeApp();
    </script>
</body>
</html>
